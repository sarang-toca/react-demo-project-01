{"ast":null,"code":"import * as actionTypes from \"../actions/actionTypes\";\nconst initialState = {\n  loading: false,\n  isLoggedIn: !!localStorage.getItem(\"token\"),\n  user: {\n    id: \"\",\n    name: \"\",\n    email: \"\",\n    token: \"\",\n    role: \"\"\n  },\n  users: [],\n  result: {\n    id: \"\",\n    name: \"\",\n    email: \"\",\n    token: \"\",\n    role: \"\"\n  },\n  results: [],\n  error: \"\"\n};\n\nconst authReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case actionTypes.USER_SIGNUP_REQUEST:\n    case actionTypes.USER_RELOAD_REQUEST:\n    case actionTypes.USER_LOGIN_REQUEST:\n    case actionTypes.GET_USER_REQUEST:\n    case actionTypes.GET_USER_BYID_REQUEST:\n      return { ...state,\n        loading: true\n      };\n\n    case actionTypes.USER_SIGNUP_SUCCESS:\n    case actionTypes.USER_LOGIN_SUCCESS:\n      {\n        const token = action.payload.data.tokens.access.token;\n        const user = action.payload.data.user; // const result = action.payload.data.result;\n\n        return { ...state,\n          loading: false,\n          isLoggedIn: !!localStorage.getItem(\"token\"),\n          user: {\n            id: user.id,\n            name: user.name,\n            email: user.email,\n            role: user.role,\n            token\n          } // result: {\n          //   id: result.id,\n          //   name: result.name,\n          //   email: result.email,\n          //   role: result.role,\n          // },\n\n        };\n      }\n\n    case actionTypes.GET_USER_SUCCESS:\n    case actionTypes.GET_USER_BYID_SUCCESS:\n      {\n        // const token = action.payload.data.tokens.access.token;\n        // const user = action.payload.data.user;\n        const result = action.payload.data.result;\n        return { ...state,\n          loading: false,\n          isLoggedIn: !!localStorage.getItem(\"token\") // result: {\n          //   id: result.id,\n          //   name: result.name,\n          //   email: result.email,\n          //   role: result.role,\n          // },\n\n        };\n      }\n\n    case actionTypes.USER_RELOAD_SUCCESS:\n      {\n        const token = localStorage.getItem(\"token\");\n        const user = action.payload;\n        const result = action.payload;\n        return { ...state,\n          loading: false,\n          isLoggedIn: !!localStorage.getItem(\"token\"),\n          user: {\n            id: user.id,\n            name: user.name,\n            email: user.email,\n            role: user.role,\n            token\n          },\n          result: {\n            id: result.id,\n            name: result.name,\n            email: result.email,\n            role: result.role\n          }\n        };\n      }\n\n    case actionTypes.USER_SIGNUP_FAILURE:\n    case actionTypes.USER_RELOAD_FAILURE:\n    case actionTypes.USER_LOGIN_FAILURE:\n    case actionTypes.GET_USER_FAILURE:\n    case actionTypes.GET_USER_BYID_FAILURE:\n      return { ...state,\n        loading: false,\n        error: action.payload\n      };\n\n    case actionTypes.USER_LOGOUT:\n      {\n        return { ...initialState,\n          isLoggedIn: false\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default authReducer;","map":{"version":3,"sources":["/home/tops/Reactjs Project/react-redux-sagas-boilerplate/src/reducers/authReducer.js"],"names":["actionTypes","initialState","loading","isLoggedIn","localStorage","getItem","user","id","name","email","token","role","users","result","results","error","authReducer","state","action","type","USER_SIGNUP_REQUEST","USER_RELOAD_REQUEST","USER_LOGIN_REQUEST","GET_USER_REQUEST","GET_USER_BYID_REQUEST","USER_SIGNUP_SUCCESS","USER_LOGIN_SUCCESS","payload","data","tokens","access","GET_USER_SUCCESS","GET_USER_BYID_SUCCESS","USER_RELOAD_SUCCESS","USER_SIGNUP_FAILURE","USER_RELOAD_FAILURE","USER_LOGIN_FAILURE","GET_USER_FAILURE","GET_USER_BYID_FAILURE","USER_LOGOUT"],"mappings":"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","sourcesContent":["import * as actionTypes from \"../actions/actionTypes\";\n\nconst initialState = {\n  loading: false,\n  isLoggedIn: !!localStorage.getItem(\"token\"),\n  user: {\n    id: \"\",\n    name: \"\",\n    email: \"\",\n    token: \"\",\n    role: \"\",\n  },\n  users: [],\n  result: {\n    id: \"\",\n    name: \"\",\n    email: \"\",\n    token: \"\",\n    role: \"\",\n  },\n  results: [],\n \n  error: \"\",\n};\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.USER_SIGNUP_REQUEST:\n    case actionTypes.USER_RELOAD_REQUEST:\n    case actionTypes.USER_LOGIN_REQUEST:\n    case actionTypes.GET_USER_REQUEST:\n      case actionTypes.GET_USER_BYID_REQUEST:\n      return {\n        ...state,\n        loading: true,\n      };\n    case actionTypes.USER_SIGNUP_SUCCESS:\n    case actionTypes.USER_LOGIN_SUCCESS:\n  \n    {\n      const token = action.payload.data.tokens.access.token;\n      const user = action.payload.data.user;\n        // const result = action.payload.data.result;\n      return {\n        ...state,\n        loading: false,\n        isLoggedIn: !!localStorage.getItem(\"token\"),\n       \n        user: {\n          id: user.id,\n          name: user.name,\n          email: user.email,\n          role: user.role,\n          token,\n        },\n        // result: {\n        //   id: result.id,\n        //   name: result.name,\n        //   email: result.email,\n        //   role: result.role,\n          \n        // },\n      };\n    }\n    case actionTypes.GET_USER_SUCCESS:  \n    case actionTypes.GET_USER_BYID_SUCCESS:  \n    {\n      // const token = action.payload.data.tokens.access.token;\n      // const user = action.payload.data.user;\n        const result = action.payload.data.result;\n      return {\n        ...state,\n        loading: false,\n        isLoggedIn: !!localStorage.getItem(\"token\"),\n       \n        // result: {\n        //   id: result.id,\n        //   name: result.name,\n        //   email: result.email,\n        //   role: result.role,\n          \n        // },\n      };\n    }\n\n\n    case actionTypes.USER_RELOAD_SUCCESS: {\n      const token = localStorage.getItem(\"token\");\n      const user = action.payload;\n       const result = action.payload\n      return {\n        ...state,\n        loading: false,\n        isLoggedIn: !!localStorage.getItem(\"token\"),\n        user: {\n          id: user.id,\n          name: user.name,\n          email: user.email,\n          role: user.role,\n          token,\n        },\n        result: {\n          id: result.id,\n          name: result.name,\n          email: result.email,\n          role: result.role,\n          \n        },\n      };\n    }\n    case actionTypes.USER_SIGNUP_FAILURE:\n    case actionTypes.USER_RELOAD_FAILURE:\n    case actionTypes.USER_LOGIN_FAILURE:\n    case actionTypes.GET_USER_FAILURE:\n     case actionTypes.GET_USER_BYID_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload,\n      };\n    case actionTypes.USER_LOGOUT: {\n      return { ...initialState, isLoggedIn: false };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default authReducer;"]},"metadata":{},"sourceType":"module"}