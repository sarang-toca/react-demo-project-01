{"ast":null,"code":"import { CREATE_USER_REQUEST, CREATE_USER_SUCCESS, CREATE_USER_FAILURE, GET_USER_REQUEST, GET_USER_SUCCESS, GET_USER_FAILURE, GET_USER_BYID_REQUEST, GET_USER_BYID_SUCCESS, GET_USER_BYID_FAILURE, UPDATE_USER_BYID_REQUEST, UPDATE_USER_BYID_SUCCESS, UPDATE_USER_BYID_FAILURE, DELETE_USER_BYID_REQUEST, DELETE_USER_BYID_SUCCESS, DELETE_USER_BYID_FAILURE } from \"../actions/action-types\";\nimport api from \"../services/api\";\nexport function createUser(data, history) {\n  return dispatch => {\n    dispatch({\n      type: CREATE_USER_REQUEST\n    });\n    api.post(`/v1/users`, data).then(function (res) {\n      console.log(\"res=>\", res.data);\n      setTimeout(() => {\n        dispatch({\n          type: CREATE_USER_SUCCESS,\n          payload: res.data\n        });\n        history.push(\"/dashboard\");\n      }, 1000);\n    }).catch(function (error) {\n      const {\n        response\n      } = error;\n      console.log(\"err\", response);\n\n      if (response !== undefined) {\n        var _response$data;\n\n        dispatch({\n          type: CREATE_USER_FAILURE,\n          payload: response.data\n        });\n        alert((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.message);\n      }\n    });\n  };\n}\nexport function getUsers() {\n  return dispatch => {\n    dispatch({\n      type: GET_USER_REQUEST\n    });\n    api.get(`/v1/users`).then(function (res) {\n      console.log(\"res =>\", res.data);\n      dispatch({\n        type: GET_USER_SUCCESS,\n        payload: res.data\n      });\n    }).catch(function (error) {\n      const {\n        response\n      } = error;\n      console.log(\"err\", response);\n\n      if (response !== undefined) {\n        dispatch({\n          type: GET_USER_FAILURE,\n          payload: response === null || response === void 0 ? void 0 : response.data\n        });\n      }\n    });\n  };\n}\nexport function getUserById(id) {\n  return dispatch => {\n    dispatch({\n      type: GET_USER_BYID_REQUEST\n    });\n    api.get(`/v1/users/${id}`).then(function (res) {\n      console.log(\"ressss =>\", res.data);\n      dispatch({\n        type: GET_USER_BYID_SUCCESS,\n        payload: res.data\n      });\n    }).catch(function (error) {\n      const {\n        response\n      } = error;\n      console.log(\"err\", response);\n\n      if (response !== undefined) {\n        dispatch({\n          type: GET_USER_BYID_FAILURE,\n          payload: response === null || response === void 0 ? void 0 : response.data\n        });\n      }\n    });\n  };\n} // export function updateUserById(id, data, history) {\n//   return (dispatch) => {\n//     dispatch({ type: UPDATE_USER_BYID_REQUEST });\n//     api\n//       .patch(`/v1/users/${id}`, data)\n//       .then(function (res) {\n//         console.log(\"ress=>\", res.data);\n//         setTimeout(() => {\n//           dispatch({\n//             type: UPDATE_USER_BYID_SUCCESS,\n//           });\n//           history.push(\"/dashboard\");\n//         });\n//       })\n//       .catch(function (error) {\n//         const { response } = error;\n//         console.log(\"err\", response);\n//         if (response !== undefined) {\n//           dispatch({\n//             type: UPDATE_USER_BYID_FAILURE,\n//             payload: response.data,\n//           });\n//           alert(response.data?.message);\n//         }\n//       });\n//   };\n// }\n\nexport const updateUserById = (data, id) => {\n  return dispatch => {\n    dispatch({\n      type: UPDATE_USER_BYID_REQUEST\n    });\n    api.put(`/v1/users/${id}`, data).then(response => {\n      console.log(response);\n      dispatch({\n        type: UPDATE_USER_BYID_SUCCESS\n      });\n      dispatch(getUsersAction());\n    }).catch(error => {\n      dispatch({\n        type: UPDATE_USER_BYID_FAILURE,\n        payload: response.data\n      });\n      console.log(error);\n    });\n  };\n};\nexport function deleteUserById(id) {\n  return dispatch => {\n    dispatch({\n      type: DELETE_USER_BYID_REQUEST\n    });\n    api.delete(`/v1/users/${id}`).then(function (res) {\n      console.log(\"res =>\", res.data);\n      dispatch({\n        type: DELETE_USER_BYID_SUCCESS,\n        payload: id\n      });\n    }).catch(function (error) {\n      const {\n        response\n      } = error;\n      console.log(\"err\", response);\n\n      if (response !== undefined) {\n        var _response$data2;\n\n        dispatch({\n          type: DELETE_USER_BYID_FAILURE,\n          payload: response.data\n        });\n        alert((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.message);\n      }\n    });\n  };\n}","map":{"version":3,"sources":["/home/tops/Reactjs Project/react-redux-sagas-boilerplate/src/actions/user.js"],"names":["CREATE_USER_REQUEST","CREATE_USER_SUCCESS","CREATE_USER_FAILURE","GET_USER_REQUEST","GET_USER_SUCCESS","GET_USER_FAILURE","GET_USER_BYID_REQUEST","GET_USER_BYID_SUCCESS","GET_USER_BYID_FAILURE","UPDATE_USER_BYID_REQUEST","UPDATE_USER_BYID_SUCCESS","UPDATE_USER_BYID_FAILURE","DELETE_USER_BYID_REQUEST","DELETE_USER_BYID_SUCCESS","DELETE_USER_BYID_FAILURE","api","createUser","data","history","dispatch","type","post","then","res","console","log","setTimeout","payload","push","catch","error","response","undefined","alert","message","getUsers","get","getUserById","id","updateUserById","put","getUsersAction","deleteUserById","delete"],"mappings":"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","sourcesContent":["import {\r\n    CREATE_USER_REQUEST,\r\n    CREATE_USER_SUCCESS,\r\n    CREATE_USER_FAILURE,\r\n    GET_USER_REQUEST,\r\n    GET_USER_SUCCESS,\r\n    GET_USER_FAILURE,\r\n    GET_USER_BYID_REQUEST,\r\n    GET_USER_BYID_SUCCESS,\r\n    GET_USER_BYID_FAILURE,\r\n    UPDATE_USER_BYID_REQUEST,\r\n    UPDATE_USER_BYID_SUCCESS,\r\n    UPDATE_USER_BYID_FAILURE,\r\n    DELETE_USER_BYID_REQUEST,\r\n    DELETE_USER_BYID_SUCCESS,\r\n    DELETE_USER_BYID_FAILURE,\r\n  } from \"../actions/action-types\";\r\n  import api from \"../services/api\";\r\n\r\n  \r\n  export function createUser(data, history) {\r\n    return (dispatch) => {\r\n      dispatch({ type: CREATE_USER_REQUEST });\r\n      api\r\n        .post(`/v1/users`, data)\r\n        .then(function (res) {\r\n          console.log(\"res=>\", res.data);\r\n          setTimeout(() => {\r\n            dispatch({\r\n              type: CREATE_USER_SUCCESS,\r\n              payload: res.data,\r\n            });\r\n            history.push(\"/dashboard\");\r\n          }, 1000);\r\n        })\r\n        .catch(function (error) {\r\n          const { response } = error;\r\n          console.log(\"err\", response);\r\n          if (response !== undefined) {\r\n            dispatch({\r\n              type: CREATE_USER_FAILURE,\r\n              payload: response.data,\r\n            });\r\n            alert(response.data?.message);\r\n          }\r\n        });\r\n    };\r\n  }\r\n  \r\n  export function getUsers() {\r\n    return (dispatch) => {\r\n      dispatch({ type: GET_USER_REQUEST });\r\n      api\r\n        .get(`/v1/users`)\r\n        .then(function (res) {\r\n          console.log(\"res =>\", res.data);\r\n          dispatch({\r\n            type: GET_USER_SUCCESS,\r\n            payload: res.data,\r\n          });\r\n        })\r\n        .catch(function (error) {\r\n          const { response } = error;\r\n          console.log(\"err\", response);\r\n          if (response !== undefined) {\r\n            dispatch({\r\n              type: GET_USER_FAILURE,\r\n              payload: response?.data,\r\n            });\r\n          }\r\n        });\r\n    };\r\n  }\r\n  \r\n  export function getUserById(id) {\r\n    return (dispatch) => {\r\n      dispatch({ type: GET_USER_BYID_REQUEST });\r\n      api\r\n        .get(`/v1/users/${id}`)\r\n        .then(function (res) {\r\n          console.log(\"ressss =>\", res.data);\r\n          dispatch({\r\n            type: GET_USER_BYID_SUCCESS,\r\n            payload: res.data,\r\n          });\r\n        })\r\n        .catch(function (error) {\r\n          const { response } = error;\r\n          console.log(\"err\", response);\r\n          if (response !== undefined) {\r\n            dispatch({\r\n              type: GET_USER_BYID_FAILURE,\r\n              payload: response?.data,\r\n            });\r\n          }\r\n        });\r\n    };\r\n  }\r\n  \r\n  // export function updateUserById(id, data, history) {\r\n  //   return (dispatch) => {\r\n  //     dispatch({ type: UPDATE_USER_BYID_REQUEST });\r\n  //     api\r\n  //       .patch(`/v1/users/${id}`, data)\r\n  //       .then(function (res) {\r\n  //         console.log(\"ress=>\", res.data);\r\n  //         setTimeout(() => {\r\n  //           dispatch({\r\n  //             type: UPDATE_USER_BYID_SUCCESS,\r\n              \r\n  //           });\r\n  //           history.push(\"/dashboard\");\r\n  //         });\r\n  //       })\r\n  //       .catch(function (error) {\r\n  //         const { response } = error;\r\n  //         console.log(\"err\", response);\r\n  //         if (response !== undefined) {\r\n  //           dispatch({\r\n  //             type: UPDATE_USER_BYID_FAILURE,\r\n  //             payload: response.data,\r\n  //           });\r\n  //           alert(response.data?.message);\r\n  //         }\r\n  //       });\r\n  //   };\r\n  // }\r\n  export const updateUserById = (data, id) => {\r\n    return (dispatch) => {\r\n      dispatch({ type: UPDATE_USER_BYID_REQUEST });\r\n        api.put(`/v1/users/${id}`, data)\r\n            .then(response => {\r\n                console.log(response);\r\n                dispatch({\r\n                               type: UPDATE_USER_BYID_SUCCESS,\r\n                              \r\n                          });\r\n                dispatch(getUsersAction());\r\n            })\r\n            .catch(error => {\r\n              dispatch({\r\n                          type: UPDATE_USER_BYID_FAILURE,\r\n                             payload: response.data,\r\n                           });\r\n                console.log(error);\r\n            });\r\n    }\r\n}\r\n  export function deleteUserById(id) {\r\n    return (dispatch) => {\r\n      dispatch({ type: DELETE_USER_BYID_REQUEST });\r\n      api\r\n        .delete(`/v1/users/${id}`)\r\n        .then(function (res) {\r\n          console.log(\"res =>\", res.data);\r\n          dispatch({\r\n            type: DELETE_USER_BYID_SUCCESS,\r\n            payload: id,\r\n          });\r\n        })\r\n        .catch(function (error) {\r\n          const { response } = error;\r\n          console.log(\"err\", response);\r\n          if (response !== undefined) {\r\n            dispatch({\r\n              type: DELETE_USER_BYID_FAILURE,\r\n              payload: response.data,\r\n            });\r\n            alert(response.data?.message);\r\n          }\r\n        });\r\n    };\r\n  }"]},"metadata":{},"sourceType":"module"}